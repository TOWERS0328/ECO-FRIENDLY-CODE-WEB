<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestión de Premios y Empresas | Eco Friendly</title>
  <link rel="stylesheet" href="manage-rewards.css" />
  <link rel='stylesheet'
    href='https://cdn-uicons.flaticon.com/2.6.0/uicons-regular-rounded/css/uicons-regular-rounded.css'>
  <link rel='stylesheet'
    href='https://cdn-uicons.flaticon.com/2.6.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
</head>

<body>
  <div class="dashboard-container">

    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="index.html" class="logo">
        <h1><span>ECO</span> FRIENDLY</h1>
        <p>CODE</p>
      </a>

      <div class="user-info">
        <img src="../Img/9434619.jpg" class="avatar" alt="Coordinador" />
        <h3 class="username">Coordinador</h3>
        <p class="email">coordinador@eco.com</p>
      </div>

      <nav class="menu">
        <a href="coordinator_dashboard.html"><i class="fi fi-rr-chart-pie"></i> Panel</a>
        <a href="manage-students.html"><i class="fi fi-rr-graduation-cap"></i> Estudiantes</a>
        <a href="manage-recyclables.html"><i class="fi fi-rr-recycle"></i> Residuos</a>
        <a href="manage-rewards.html" class="active"><i class="fi fi-rr-gift"></i> Premios</a>
      </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
      <header class="top-bar">
        <h2><i class="fi fi-rr-gift"></i> Gestión de Premios</h2>
      </header>

      <!-- MINI TABLA EMPRESAS -->
      <section class="mini-empresas">
        <div class="mini-header">
          <h3>Empresas Patrocinadoras</h3>
          <button class="btn add" id="btnNuevaEmpresa"><i class="fi fi-rr-plus-small"></i> Nueva Empresa</button>
        </div>

        <div class="mini-table-container">
          <table id="tablaEmpresas">
            <thead>
              <tr>
                <th>ID</th>
                <th>NIT</th>
                <th>Nombre</th>
                <th>Contacto</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr><td colspan="6" class="empty">Cargando empresas...</td></tr>
            </tbody>
          </table>
        </div>
      </section>

     <!-- PREMIOS -->
<section class="premios-section">
  <div class="premios-header">
    <h3>Tabla de Premios</h3>
    <button class="btn add" id="btnNuevo"><i class="fi fi-rr-plus-small"></i> Nuevo Premio</button>
  </div>

  <div class="buscador-premios">
    <input type="text" id="searchId" placeholder="Buscar premio por código o nombre..." />
    <button class="btn green" id="btnBuscar"><i class="fi fi-rr-search"></i> Buscar</button>
  </div>

  <section class="historial">
    <table>
      <thead>
  <tr>
    <th>ID</th>
    <th>Código</th>
    <th>Nombre</th>
    <th>Puntos requeridos</th>
    <th>Stock</th>
    <th>Empresa</th>
    <th>Estado</th>
    <th>Imagen</th>
    <th>Acciones</th>
  </tr>
</thead>

      <tbody id="resultadoTabla">
        <tr><td colspan="9" class="empty">Cargando premios...</td></tr>
      </tbody>
    </table>
  </section>
</section>

    </main>
  </div>

  <footer>© 2025 Eco Friendly Code. Todos los derechos reservados.</footer>

  <!-- MODAL REGISTRAR PREMIO -->
  <div class="modal" id="modalRegistrar" style="display:none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Registrar Nuevo Premio</h3>
        <button type="button" class="close-btn" onclick="cerrarModalRegistrarPremio()">✕</button>
      </div>

      <form id="formRegistrar">
        <div class="form-group"><label>Código</label><input id="regCodigo" type="text" required></div>
        <div class="form-group"><label>Nombre</label><input id="regNombre" type="text" required></div>

        <div class="form-group">
          <label>Puntos requeridos</label>
          <input id="regPuntos" type="number" min="1" required>
        </div>

        <div class="form-group">
          <label>Stock</label>
          <input id="regStock" type="number" min="0" required>
        </div>

        <div class="form-group">
          <label>Empresa patrocinadora</label>
          <select id="regEmpresa" required>
            <option value="">Cargando empresas...</option>
          </select>
        </div>

        <div class="form-group">
  <label>Imagen del premio</label>
  <input id="regImagen" type="file" accept="image/*">
</div>


        <div class="modal-actions">
          <button class="btn green" type="submit">Registrar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- MODAL EDITAR PREMIO -->
<div class="modal" id="modalEditar" style="display:none;">
  <div class="modal-content">

    <div class="modal-header">
      <h3>Editar Premio</h3>
      <button type="button" class="close-btn" onclick="cerrarModalEditarPremio()">✕</button>
    </div>

    <form id="formEditar">

      <input type="hidden" id="editId">

      <div class="form-group">
        <label>Código</label>
        <input id="editCodigo" type="text" required>
      </div>

      <div class="form-group">
        <label>Nombre</label>
        <input id="editNombre" type="text" required>
      </div>

      <div class="form-group">
        <label>Puntos requeridos</label>
        <input id="editPuntos" type="number" min="1" required>
      </div>

      <div class="form-group">
        <label>Stock</label>
        <input id="editStock" type="number" min="0" required>
      </div>

      <div class="form-group">
        <label>Empresa patrocinadora</label>
        <select id="editEmpresa" required>
          <option value="">Cargando empresas...</option>
        </select>
      </div>

      <div class="form-group">
        <label>Imagen del premio</label>
        <input id="editImagen" type="file" accept="image/*">
        <div class="preview-container"></div> <!-- contenedor de miniatura -->
      </div>

      <div class="modal-actions">
        <button class="btn green" type="submit">Guardar cambios</button>
      </div>

    </form>
  </div>
</div>

  <!-- MODAL REGISTRAR EMPRESA -->
  <div class="modal" id="modalEmpresa" style="display:none;">
    <div class="modal-content">

      <div class="modal-header">
        <h3>Registrar Nueva Empresa</h3>
        <button type="button" class="close-btn" onclick="cerrarModalEmpresa()">✕</button>
      </div>

      <form id="formEmpresa">
        <div class="form-group"><label>NIT</label><input id="empNIT" type="text" required></div>
        <div class="form-group"><label>Nombre</label><input id="empNombre" type="text" required></div>
        <div class="form-group"><label>Logo (URL)</label><input id="empLogo" type="text"></div>
        <div class="form-group"><label>Contacto</label><input id="empContacto" type="text"></div>

        <div class="modal-actions">
          <button class="btn green" type="submit">Registrar Empresa</button>
        </div>
      </form>

    </div>
  </div>

  <!-- MODAL EDITAR EMPRESA -->
  <div class="modal" id="modalEditarEmpresa" style="display:none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Editar Empresa</h3>
        <button type="button" class="close-btn" onclick="cerrarModalEditarEmpresa()">✕</button>
      </div>

      <form id="formEditarEmpresa">

        <input type="hidden" id="editEmpId">

        <div class="form-group">
          <label>NIT</label>
          <input id="editEmpNIT" type="text" required>
        </div>

        <div class="form-group">
          <label>Nombre</label>
          <input id="editEmpNombre" type="text" required>
        </div>

        <div class="form-group">
          <label>Logo (URL)</label>
          <input id="editEmpLogo" type="text">
        </div>

        <div class="form-group">
          <label>Contacto</label>
          <input id="editEmpContacto" type="text">
        </div>

        <div class="form-group">
          <label>Estado</label>
          <select id="editEmpEstado" required>
            <option value="activo">Activo</option>
            <option value="inactivo">Inactivo</option>
          </select>
        </div>

        <div class="modal-actions">
          <button class="btn green" type="submit">Guardar Cambios</button>
        </div>

      </form>
    </div>
  </div>

  <script src="manage_rewards.js"></script>
</body>

</html>



